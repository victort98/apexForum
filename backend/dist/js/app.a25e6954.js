(function(e){function t(t){for(var r,a,c=t[0],i=t[1],u=t[2],p=0,d=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view")],1)},s=[],a=(n("96cf"),n("1da1")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-component"},[n("a",{staticClass:"home",attrs:{href:"/"}},[e._v("Apex Forum")]),n("div",{staticClass:"header-right"},[n("a",{attrs:{href:"/new-topic"}},[e._v("Create topic")]),this.$store.state.userStore.isLoggedIn?e._e():n("a",{attrs:{href:"/create-account"}},[e._v("Create Account")]),this.$store.state.userStore.isLoggedIn?n("a",{on:{click:e.logout}},[e._v("logout")]):n("a",{attrs:{href:"/login"}},[e._v("Login")])])])},i=[],u={methods:{logout:function(){var e=this;this.$store.dispatch("logout").then((function(){e.$router.go()}))}}},l=u,p=(n("8baf"),n("2877")),d=Object(p["a"])(l,c,i,!1,null,null,null),m=d.exports,f={name:"app",methods:{fetchAllCategories:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("fetchAllCategories");case 1:case"end":return t.stop()}}),t)})))()},fetchCurrentUser:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("fetchCurrentUser");case 1:case"end":return t.stop()}}),t)})))()}},components:{Header:m},created:function(){this.fetchAllCategories(),this.fetchCurrentUser()}},g=f,h=Object(p["a"])(g,o,s,!1,null,null,null),v=h.exports,w=n("2f62"),y=(n("4de4"),n("d3b7"),{state:{categories:null,topics:null},getters:{topicsByCategoryId:function(e){return function(t){var n;return null===(n=e.topics)||void 0===n?void 0:n.filter((function(e){return e.categoryId===t}))}}},mutations:{setCategories:function(e,t){e.categories=t},setTopics:function(e,t){e.topics=t}},actions:{fetchAllCategories:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,fetch("/api/v1/categories");case 3:return r=t.sent,t.next=6,r.json();case 6:r=t.sent,console.log("Categories ",r),n("setCategories",r);case 9:case"end":return t.stop()}}),t)})))()},fetchAllTopics:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,fetch("/api/v1/topics");case 3:return r=t.sent,t.next=6,r.json();case 6:r=t.sent,console.log("Topics ",r),n("setTopics",r);case 9:case"end":return t.stop()}}),t)})))()}}}),b=(n("7db0"),{state:{topics:null,topic:null},getters:{getTopicById:function(e){return function(t){return e.topics?e.topics.find((function(e){return e.id===t})):null}}},mutations:{setTopics:function(e,t){e.topics=t},setTopic:function(e,t){e.topic=t}},actions:{fetchAllTopicsByCategoryId:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,fetch("/api/v1/topics/".concat(t));case 3:return o=n.sent,n.next=6,o.json();case 6:o=n.sent,console.log("Topics ".concat(t),o),r("setTopics",o);case 9:case"end":return n.stop()}}),n)})))()},fetchAllTopicsByTopicId:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,fetch("/api/v1/topics/:categoryId/".concat(t));case 3:return o=n.sent,n.next=6,o.json();case 6:o=n.sent,console.log("Topic ".concat(t),o),r("setTopic",o);case 9:case"end":return n.stop()}}),n)})))()},postNewTopic:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("this",t),e.next=3,fetch("/api/v1/topics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))()},updateTopic:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/topics",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))()}}}),x={state:{isLoggedIn:null,users:null,user:null},getters:{getAdmin:function(e){return!!e.isLoggedIn&&"admin"===e.isLoggedIn.userRole},getModerator:function(e){return!!e.isLoggedIn&&"moderator"===e.isLoggedIn.userRole}},mutations:{setIsLoggedIn:function(e,t){e.isLoggedIn=t},setUsers:function(e,t){e.users=t},setUser:function(e,t){e.user=t}},actions:{fetchAllUser:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,fetch("/api/v1/users");case 3:return r=t.sent,t.next=6,r.json();case 6:r=t.sent,console.log("Users in store ",r),n("setUsers",r);case 9:case"end":return t.stop()}}),t)})))()},fetchUserById:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,fetch("/api/v1/users/".concat(t));case 3:return o=n.sent,n.next=6,o.json();case 6:o=n.sent,console.log("User by id ".concat(t),o),r("setUser",o);case 9:case"end":return n.stop()}}),n)})))()},deleteAccount:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("userIdToDelete",t),e.next=3,fetch("/api/v1/users/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return n=e.sent,console.log("deleteAccount",n),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))()},login:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return o=n.sent,n.next=6,o.json();case 6:return o=n.sent,console.log("User ",o),o||console.log("Something went wrong"),r("setIsLoggedIn",o),n.abrupt("return",o);case 11:case"end":return n.stop()}}),n)})))()},createNewAccount:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("this",t),e.next=3,fetch("/api/v1/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))()},logout:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,fetch("/api/v1/auth/logout",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return o=n.sent,n.next=6,o.json();case 6:return o=n.sent,console.log("User-logout: ",o),r("setIsLoggedIn",o),n.abrupt("return",o);case 10:case"end":return n.stop()}}),n)})))()},fetchCurrentUser:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,fetch("/api/v1/auth/whoami");case 3:return r=t.sent,t.next=6,r.json();case 6:r=t.sent,console.log("User ",r),n("setIsLoggedIn",r);case 9:case"end":return t.stop()}}),t)})))()}}},_={state:{comments:null},mutations:{setComments:function(e,t){e.comments=t}},actions:{fetchCommentById:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,fetch("/api/v1/comments/:categoryId/".concat(t));case 3:return o=n.sent,n.next=6,o.json();case 6:o=n.sent,console.log("Comments ".concat(t),o),r("setComments",o);case 9:case"end":return n.stop()}}),n)})))()},postNewReply:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("reply",t),e.next=3,fetch("/api/v1/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))()}}};r["a"].use(w["a"]);var C=new w["a"].Store({modules:{categoryStore:y,topicStore:b,userStore:x,commentStore:_}}),j=(n("45fc"),n("8c4f")),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-page"},[n("router-view")],1)},R=[],$={},O=$,k=(n("d689"),Object(p["a"])(O,I,R,!1,null,null,null)),T=k.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"category-list"},e._l(e.categoryList,(function(e){return n("category-list-item",{key:e.id,attrs:{category:e}})})),1)},A=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"category-list-item"},[n("p",{staticClass:"title"},[e._v(e._s(e.category.title))])]),n("div",{staticClass:"topics"},e._l(e.topics,(function(t){return n("topic-list",{key:t.id,attrs:{topic:t,categoryId:e.category.id}})})),1)])},U=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topic"},[n("router-link",{staticClass:"topic-name bold underline",attrs:{to:this.categoryId+"/"+this.topic.id}},[e._v(e._s(e.topic.title))])],1)},N=[],E={props:["topic","categoryId"]},B=E,D=Object(p["a"])(B,P,N,!1,null,null,null),M=D.exports,J={props:["category"],components:{TopicList:M},computed:{topics:function(){return this.$store.getters["topicsByCategoryId"](this.category.id)}}},q=J,H=Object(p["a"])(q,L,U,!1,null,null,null),Y=H.exports,F={components:{CategoryListItem:Y},computed:{categoryList:function(){return this.$store.state.categoryStore.categories}},methods:{fetchAllTopics:function(){this.$store.dispatch("fetchAllTopics")}},created:function(){this.fetchAllTopics()}},G=F,z=Object(p["a"])(G,S,A,!1,null,null,null),K=z.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",[e._v("Login")])])])])},V=[],W={data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={username:e.username,password:e.password},t.next=3,e.$store.dispatch("login",n);case 3:r=t.sent,r?e.$router.push("/"):console.log("Something went wrong, could not login"),e.username="",e.password="";case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this.$store.state.userStore.isLoggedIn;console.log(e),e&&this.$router.push("/")}},X=W,Z=Object(p["a"])(X,Q,V,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topic"},[0!=e.ifAdmin||0!=e.ifModerator?n("button",{on:{click:e.lockTopic}},[e._v("Lock Topic")]):e._e(),n("div",{staticClass:"topic-content"},[e._v(" "+e._s(e.topic.title)+" "),n("br"),e._v(" "+e._s(e.topic.content)+" "),n("br"),e._v(" "+e._s(e.topic.username)+" "),n("br"),e._v(" "+e._s(e.topic.created_at)+" "),n("br"),0==e.locked?n("div",{staticClass:"reply"},[n("form",{staticClass:"reply",on:{submit:function(t){return t.preventDefault(),e.createReply(t)}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{type:"text",placeholder:"reply...",required:""},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),n("button",{staticClass:"reply-button"},[e._v("Reply")])])]):e._e(),n("comment")],1)])},ne=[],re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.comment,(function(t,r){return n("div",{key:r,staticClass:"reply-list"},[n("div",[e._v(e._s(t.message))]),n("div",[e._v(e._s(t.created_at))])])})),0)},oe=[],se={methods:{},computed:{comment:function(){var e=this.$store.state.commentStore.comments;return console.log("commenttest: ",e),e}}},ae=se,ce=Object(p["a"])(ae,re,oe,!1,null,null,null),ie=ce.exports,ue={data:function(){return{message:"",userId:"",topicId:"",created_at:Math.round(+new Date/1e3),locked:""}},components:{Comment:ie},methods:{lockTopic:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.locked=1,n={locked:e.locked},e.$store.dispatch("updateTopic",n);case 3:case"end":return t.stop()}}),t)})))()},topics:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$route.params.topicId,e.$store.dispatch("fetchAllTopicsByTopicId",n);case 2:case"end":return t.stop()}}),t)})))()},getComments:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$route.params.topicId,console.log(e.$store.dispatch("fetchCommentById",n)),e.$store.dispatch("fetchCommentById",n);case 3:case"end":return t.stop()}}),t)})))()},createReply:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$store.state.userStore.isLoggedIn,console.log(n),n?(r={message:e.message,userId:n.id,topicId:e.$route.params.topicId,created_at:e.created_at},e.$store.dispatch("postNewReply",r).then((function(){e.$router.go()})),console.log(r)):(console.log("You need to create an account to reply"),alert("You need to login to reply"),e.$router.push("/login")),e.message="";case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.topics(),this.getComments()},computed:{topic:function(){return console.log("first",this.$store.state.topicStore.topic),this.$store.state.topicStore.topic},comments:function(){var e=this.$store.state.commentStore.comments;return console.log("is this test?",e),this.$store.state.commentStore.comments},ifAdmin:function(){var e=this.$store.getters["getAdmin"];return e},ifModerator:function(){var e=this.$store.getters["getModerator"];return e}}},le=ue,pe=Object(p["a"])(le,te,ne,!1,null,null,null),de=pe.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"newTopic-container"},[n("form",{staticClass:"newTopic",on:{submit:function(t){return t.preventDefault(),e.createTopic(t)}}},[n("h1",[e._v("Create a new topic")]),n("p",[e._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",placeholder:"Title",required:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),n("br"),n("p",[e._v("Category")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.categoryId,expression:"categoryId"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.categoryId=t.target.multiple?n:n[0]}}},e._l(e.options,(function(t){return n("option",{key:t.text,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0),n("br"),n("p",[e._v("Content")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{placeholder:"Content...",required:""},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),n("button",{staticClass:"createNewTopic"},[e._v("Create topic")])])])},fe=[],ge={data:function(){return{title:"",categoryId:1,locked:!1,created_at:Math.round(+new Date/1e3),options:[{text:"Game Updates",value:1},{text:"Pro Discussion",value:2},{text:"Tournaments",value:3}],content:"",userId:""}},methods:{createTopic:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$store.state.userStore.isLoggedIn,console.log(n),n?(r={title:e.title,categoryId:e.categoryId,locked:e.locked,created_at:e.created_at,content:e.content,userId:n.id},e.$store.dispatch("postNewTopic",r),e.$router.push("/")):(console.log("You need to create an account to create a topic"),e.$router.push("/login"));case 3:case"end":return t.stop()}}),t)})))()}}},he=ge,ve=Object(p["a"])(he,me,fe,!1,null,null,null),we=ve.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account"},[n("form",{staticClass:"newAccount",on:{submit:function(t){return t.preventDefault(),e.createAccount(t)}}},[n("h1",[e._v("Create New Account")]),n("p",[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("br"),n("p",[e._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Username",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("br"),n("p",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("br"),n("button",{staticClass:"createNewAccount"},[e._v("Create Account")])])])},be=[],xe={data:function(){return{email:"",username:"",password:"",userRole:"user"}},methods:{createAccount:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$store.state.userStore.isLoggedIn,null!==n?(alert("You are already logged in, logout to make a new account"),e.$router.push("/")):(r={email:e.email,username:e.username,password:e.password,userRole:e.userRole},e.$store.dispatch("createNewAccount",r),console.log(r),e.$router.push("/login"));case 2:case"end":return t.stop()}}),t)})))()}}},_e=xe,Ce=Object(p["a"])(_e,ye,be,!1,null,null,null),je=Ce.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("user-list")],1)},Re=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return 0!=e.ifAdmin?n("div",[n("h1",[e._v("Click on a user and then click on delete user")]),n("p",[e._v("Only works if they have not posted or commented")]),e._l(e.user,(function(t,r){return n("div",{key:r,staticClass:"user-list",on:{click:e.userById}},[n("div",{staticClass:"test",on:{click:[function(n){e.userId=t.id},function(t){e.isHidden=!e.isHidden}]}},[n("button",{on:{click:e.deleteAccount}},[e._v("Delete user")]),n("div",[e._v(e._s(t.email))]),n("div",[e._v(e._s(t.username))]),n("div",[e._v(e._s(t.userRole))])]),n("br")])})),e._l(e.getClickedUser,(function(t,r){return n("div",{key:r},[e._v(" "+e._s(t)+" ")])})),n("button")],2):e._e()},Oe=[],ke={data:function(){return{userId:"",isHidden:!1,userRole:"user",options:[{text:"User",value:"user"},{text:"Moderator",value:"moderator"}]}},computed:{user:function(){var e=this.$store.state.userStore.users;return console.log(e),e},getClickedUser:function(){var e=this.$store.state.userStore.user;return e},ifAdmin:function(){var e=this.$store.getters["getAdmin"];return e}},methods:{userById:function(){console.log(this.userId),this.$store.dispatch("fetchUserById",this.userId),console.log(this.$store.dispatch("fetchUserById",this.userId));var e=this.$store.state.userStore.user;console.log("test",e)},deleteAccount:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$store.state.userStore.user,console.log("testdelete",n),r={userId:e.userId},e.$store.dispatch("deleteAccount",r).then((function(){e.$router.go()}));case 4:case"end":return t.stop()}}),t)})))()}}},Te=ke,Se=(n("8740"),Object(p["a"])(Te,$e,Oe,!1,null,"de7f3ce8",null)),Ae=Se.exports,Le={components:{userList:Ae},computed:{userList:function(){return this.$store.state.userStore.users}},methods:{fetchAllUsers:function(){this.$store.dispatch("fetchAllUser")}},created:function(){this.fetchAllUsers()}},Ue=Le,Pe=Object(p["a"])(Ue,Ie,Re,!1,null,null,null),Ne=Pe.exports;r["a"].use(j["a"]);var Ee=[{path:"/",name:"HomePage",component:T,children:[{path:"",name:"CategoryList",component:K},{path:"/:categoryId/:topicId",name:"TopicContent",component:de},{path:"/:categoryId/:topicId",name:"Comment",component:ie}]},{path:"/login",name:"LoginPage",component:ee},{path:"/new-topic",name:"CreateNewTopic",component:we},{path:"/create-account",name:"CreateAccount",component:je},{path:"/users",name:"User",component:Ne}],Be=new j["a"]({routes:Ee,mode:"history",base:"/"});Be.beforeEach(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.matched.some((function(e){return e.meta.requresAuth}))?(console.log("this one",C.state.userStore.isLoggedIn),C.state.userStore.isLoggedIn?r():r({name:"LoginPage"})):r();case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var De=Be;r["a"].config.productionTip=!1,new r["a"]({store:C,router:De,render:function(e){return e(v)}}).$mount("#app")},6860:function(e,t,n){},"6f6d":function(e,t,n){},8740:function(e,t,n){"use strict";n("6f6d")},"8baf":function(e,t,n){"use strict";n("6860")},d689:function(e,t,n){"use strict";n("efeb")},efeb:function(e,t,n){}});
//# sourceMappingURL=app.a25e6954.js.map